<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.api.manager.db.user.mapper.UserMapper">
    <insert id="insertUser" parameterType="kr.co.api.manager.db.user.model.UserModel">
        INSERT INTO `flio_user` (`uid`, `name`, `email`, `image_url`, `user_token`, `message_token`, `reg_date`, `chg_date`)
        VALUES(
            #{uid}
            , #{name}
            , #{email}
            , #{imageUrl}
            , #{userToken}
            , #{messageToken}
            , NOW()
            , null
        )
        ON DUPLICATE KEY UPDATE
        message_token  = #{messageToken}
        , chg_date = NOW()
    </insert>
</mapper>